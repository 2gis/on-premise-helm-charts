apiVersion: v1
kind: Secret
metadata:
  name: {{ include "pro-api.name" . }}-secret
type: Opaque
data:
  catalogApi2gisKey: {{ required "Valid .Values.catalog.key required!" .Values.catalog.key | b64enc }}
  dbConnectionPwd: {{ required "Valid .Values.postgres.password required!" .Values.postgres.password | b64enc }}
  s3AccessKey: {{ required "Valid .Values.s3.accessKey required!" .Values.s3.accessKey | b64enc }}
  s3SecretKey: {{ required "Valid .Values.s3.secretKey required!" .Values.s3.secretKey | b64enc }}
  diggerPassword: {{ required "Valid .Values.api.diggerPassword required!" .Values.api.diggerPassword | b64enc }}
  {{ if .Values.elastic.credentials }}
  esCredentials: {{ .Values.elastic.credentials | b64enc }}
  {{ end }}
  {{ if .Values.navi.key }}
  routingApi2gisKey: {{ .Values.navi.key | b64enc }}
  {{ end }}
  {{ if .Values.keys.token }}
  keysServiceToken: {{ .Values.keys.token | b64enc }}
  {{ end }}
